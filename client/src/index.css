@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
    /* Skip to content link - Hidden until focused */
    .skip-to-content {
        position: absolute;
        top: -40px;
        left: 0;
        z-index: 100;
        padding: 0.5rem 1rem;
        background-color: hsl(var(--primary));
        color: hsl(var(--primary-foreground));
        text-decoration: none;
        border-radius: 0 0 0.25rem 0;
        font-weight: 600;
        transition: top 0.3s ease;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    .skip-to-content:focus {
        top: 0;
        outline: 2px solid hsl(var(--ring));
        outline-offset: 2px;
    }

    /* Screen reader only - visible only to screen readers */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
    }

    .sr-only:focus,
    .sr-only:active {
        position: static;
        width: auto;
        height: auto;
        overflow: visible;
        clip: auto;
        white-space: normal;
    }

    .focus\:not-sr-only:focus {
        position: static;
        width: auto;
        height: auto;
        padding: inherit;
        margin: inherit;
        overflow: visible;
        clip: auto;
        white-space: normal;
    }
}

@layer base {
    :root {
        /* Light theme - Brand color system */

        /* Backgrounds */
        --background: 30 14% 93%; /* #efeeec - Light beige background */
        --foreground: 228 65% 14%; /* #0d123c - Brand blue for text */

        /* Cards & Elevated Surfaces */
        --card: 0 0% 100%; /* Pure white for cards */
        --card-foreground: 228 65% 14%; /* Brand blue text on cards */

        /* Popovers & Dropdowns */
        --popover: 0 0% 100%; /* White background */
        --popover-foreground: 228 65% 14%; /* Brand blue text */

        /* Primary - Brand Blue (#0d123c) */
        --primary: 228 65% 14%; /* Brand blue for buttons, links */
        --primary-foreground: 30 14% 93%; /* Light beige text on primary */

        /* Secondary - Neutral Gray (#a6a6a6) */
        --secondary: 0 0% 65%; /* Neutral gray */
        --secondary-foreground: 228 65% 14%; /* Brand blue text on secondary */

        /* Muted - Subtle elements */
        --muted: 0 0% 96%; /* Very light gray */
        --muted-foreground: 0 0% 45%; /* Medium gray for muted text (WCAG AA compliant) */

        /* Accent - Highlight Green (#c2f087) */
        --accent: 88 78% 74%; /* Highlight green */
        --accent-foreground: 228 65% 14%; /* Brand blue text on accent */

        /* Destructive - Error states */
        --destructive: 0 84% 60%; /* Red for errors */
        --destructive-foreground: 0 0% 98%; /* White text on destructive */

        /* Borders & Inputs */
        --border: 0 0% 65%; /* Neutral gray for borders */
        --input: 0 0% 89%; /* Light gray for input backgrounds */
        --ring: 22 100% 56%; /* Orange accent for focus rings */

        /* Border radius */
        --radius: 0.5rem;

        /* Button outline border - uses neutral gray */
        --button-outline: #a6a6a6;
    }

    .dark {
        /* Dark theme - Inverted brand color system */

        /* Backgrounds */
        --background: 228 65% 14%; /* Brand blue background */
        --foreground: 30 14% 93%; /* Light beige text */

        /* Cards & Elevated Surfaces */
        --card: 228 60% 18%; /* Slightly lighter blue for cards */
        --card-foreground: 30 14% 93%; /* Light beige text */

        /* Popovers & Dropdowns */
        --popover: 228 60% 18%; /* Slightly lighter blue */
        --popover-foreground: 30 14% 93%; /* Light beige text */

        /* Primary - Light Beige in dark mode */
        --primary: 30 14% 93%; /* Light beige for primary actions */
        --primary-foreground: 228 65% 14%; /* Brand blue text */

        /* Secondary - Darker blue-gray */
        --secondary: 228 40% 25%; /* Darker blue-gray */
        --secondary-foreground: 30 14% 93%; /* Light beige text */

        /* Muted */
        --muted: 228 40% 25%; /* Darker blue-gray */
        --muted-foreground: 0 0% 65%; /* Neutral gray text */

        /* Accent - Highlight Green */
        --accent: 88 78% 74%; /* Highlight green */
        --accent-foreground: 228 65% 14%; /* Brand blue text */

        /* Destructive */
        --destructive: 0 63% 31%; /* Darker red for dark mode */
        --destructive-foreground: 30 14% 93%; /* Light beige text */

        /* Borders & Inputs */
        --border: 228 40% 25%; /* Darker border */
        --input: 228 40% 25%; /* Darker input background */
        --ring: 22 100% 56%; /* Orange accent for focus rings */

        /* Button outline border */
        --button-outline: #6e6e6e;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
        font-feature-settings:
            "rlig" 1,
            "calt" 1;
    }

    /* Enhanced focus styles for accessibility */
    *:focus-visible {
        outline: 2px solid hsl(var(--ring));
        outline-offset: 2px;
    }

    /* Smooth scrolling */
    html {
        scroll-behavior: smooth;
    }

    @media (prefers-reduced-motion: reduce) {
        html {
            scroll-behavior: auto;
        }
    }
}

/* Custom animations */
@keyframes scroll {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-50%);
    }
}

.animate-scroll {
    animation: scroll 40s linear infinite;
}

.hover\:animate-pause:hover {
    animation-play-state: paused;
}

.animate-pause {
    animation-play-state: paused;
}

@keyframes scroll-rtl {
    0% {
        transform: translateX(-50%);
    }
    100% {
        transform: translateX(0);
    }
}

.animate-scroll-rtl {
    animation: scroll-rtl 40s linear infinite;
}

/* Elevation utilities for interactive elements */
@layer utilities {
    .hover-elevate {
        transition:
            transform 0.2s ease-out,
            box-shadow 0.2s ease-out;
    }

    .hover-elevate:hover {
        transform: translateY(-2px);
        box-shadow:
            0 10px 25px -5px rgba(0, 0, 0, 0.1),
            0 8px 10px -6px rgba(0, 0, 0, 0.1);
    }

    .active-elevate-2:active {
        transform: translateY(0);
        box-shadow:
            0 4px 6px -1px rgba(0, 0, 0, 0.1),
            0 2px 4px -2px rgba(0, 0, 0, 0.1);
    }

    /* Shadow utilities using brand colors */
    .shadow-brand-sm {
        box-shadow: 0 1px 2px 0 rgba(13, 18, 60, 0.05);
    }

    .shadow-brand {
        box-shadow:
            0 4px 6px -1px rgba(13, 18, 60, 0.1),
            0 2px 4px -2px rgba(13, 18, 60, 0.1);
    }

    .shadow-brand-lg {
        box-shadow:
            0 10px 15px -3px rgba(13, 18, 60, 0.1),
            0 4px 6px -4px rgba(13, 18, 60, 0.1);
    }

    .shadow-brand-xl {
        box-shadow:
            0 20px 25px -5px rgba(13, 18, 60, 0.1),
            0 8px 10px -6px rgba(13, 18, 60, 0.1);
    }

    /* Accent glow effect */
    .glow-accent {
        box-shadow: 0 0 20px rgba(255, 117, 31, 0.3);
    }

    .glow-accent-lg {
        box-shadow: 0 0 40px rgba(255, 117, 31, 0.4);
    }
}
